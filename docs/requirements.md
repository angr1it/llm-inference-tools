## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. –ú–æ–¥–µ–ª—å –∏ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å

* –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ **Qwen 3 8B Reasoning** (–∏–∑ HuggingFace), –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ–π —á–µ—Ä–µ–∑ `.env`.
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤: FP16, GGUF, ONNX.
* –î–≤–∞ —Ä–µ–∂–∏–º–∞ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞:

  * **llama.cpp** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é): GGUF, –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—è, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `--lora`, `n_gpu_layers`, `mmap`.
  * **ONNX Runtime GenAI**: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ INT8/INT4, CUDA Execution Provider, `generate()` API.
* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É —Ä–∞–Ω—Ç–∞–π–º–∞–º–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ >32k (YaRN / rope-scaling).

### 2. Fine-tuning / –¥–æ–æ–±—É—á–µ–Ω–∏–µ

* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ LoRA fine-tuning:

  * llama.cpp –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `finetune` ‚Üí `.gguf`
  * `peft + transformers` ‚Üí ONNX export
* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏–∏ (quantization-aware training).
* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–∞–ø—Ç–µ—Ä–∞–º–∏: `--lora`, –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `LORA_PATHS`, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø–æ–¥–≥—Ä—É–∑–∫–∞.
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ CPU –∏ GPU.

### 3. –ß–∞—Ç-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: LangChain Agent Chat UI

* –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ —Å—Ç–∏–ª–µ ChatGPT.
* –ú—É–ª—å—Ç–∏—Ä–æ–ª–µ–≤–æ–π —á–∞—Ç (User, Assistant, Tools).
* Chain-of-Thought, –ø–æ—Ç–æ–∫–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏.
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π –∏ "tools".
* –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI API –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º (`/v1/chat/completions`).

### 4. RLHF / Feedback / –ú–µ—Ç—Ä–∏–∫–∏

* –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSONL.
* –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å:

  * **Langfuse**: —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞, —Ä–µ–π—Ç–∏–Ω–≥, —ç–∫—Å–ø–æ—Ä—Ç –¥–∞—Ç–∞—Å–µ—Ç–æ–≤.
  * **Label Studio**: —à–∞–±–ª–æ–Ω pairwise ranking.
* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π (thumbs, —à–∫–∞–ª–∞ –æ—Ü–µ–Ω–æ–∫).
* –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–æ–≤ –¥–ª—è DPO, TRLx, PPO.
* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∞ –ª–æ–≥–æ–≤ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å UI.

### 5. API –∏ —Å–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å

* FastAPI-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

  * SSE (`stream=true`)
  * –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ —Ç–æ–∫–µ–Ω—É (`Authorization: Bearer`)
  * MCP-compatible `tool_calls`
* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å REST-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ (–≤–∫–ª—é—á–∞—è LangChain, Langfuse).

### 6. MCP –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ MCP SDK (Python).
* MCP endpoint –¥–æ—Å—Ç—É–ø–µ–Ω –∫–∞–∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–µ—Ä–≤–∏—Å –∏–ª–∏ –≤ –≤–∏–¥–µ callback –≤–Ω—É—Ç—Ä–∏ LangChain Agent.
* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤–Ω–µ—à–Ω–∏—Ö MCP-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ UI.

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### .env –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

* `MODEL_PATH` ‚Äî –ø—É—Ç—å –∫ –º–æ–¥–µ–ª–∏ (HF –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ)
* `RUNTIME_BACKEND=llama.cpp|onnx`
* `LORA_PATHS=/models/lora/*.gguf`
* `OPENAI_API_BASE_URL=http://llm:8000/v1`
* `LANGFUSE_API_KEY=...`

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

* Docker –æ–±—Ä–∞–∑ –Ω–∞ `nvidia/cuda:12.x` –±–∞–∑–µ:

  * `llama-cpp-python[server]`
  * `onnxruntime-gpu`, `optimum`, `transformers`, `peft`
  * `fastapi`, `uvicorn`, `langchain`
* `docker-compose` —Å GPU –ø—Ä–æ–±—Ä–æ—Å–æ–º:

  * volumes: `/models`, `/logs`
  * —Å–µ—Ä–≤–∏—Å—ã: `llm`, `chat-ui`, `langfuse`, `labelstudio`

### –†–µ—Å—É—Ä—Å—ã

* CPU —Å AVX2 (–ª—É—á—à–µ AVX-VNNI/AMX)
* GPU ‚â• 6 GB VRAM
* RAM ‚â• 16 GB (–¥–ª—è –º–æ–¥–µ–ª–µ–π >7B)

---

## üß™ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

* VS Code —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è: **Continue.dev**, **CodeGPT** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π OpenAI-compatible API.
* –ú–µ—Ç—Ä–∏–∫–∏: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Prometheus / Grafana, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ GPU/CPU (`nvidia-smi`, `docker stats`).
* –ì–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ –∏ LoRA –∞–¥–∞–ø—Ç–µ—Ä–æ–≤ –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–µ—Ä–≤–∏—Å–∞.

---

## üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç     | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                              |
| ------------- | ------------------------------------------------------- |
| `llm`         | —Å–µ—Ä–≤–µ—Ä –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ (llama.cpp / onnxruntime) —Å OpenAI API |
| `chat-ui`     | LangChain Agent Chat UI –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –º–æ–¥–µ–ª—å—é    |
| `langfuse`    | —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –¥–∏–∞–ª–æ–≥–æ–≤, —Å–±–æ—Ä –æ—Ü–µ–Ω–æ–∫, RLHF –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞      |
| `labelstudio` | –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è pairwise –¥–∏–∞–ª–æ–≥–æ–≤ –¥–ª—è reward –º–æ–¥–µ–ª–µ–π          |
| `mcp`         | MCP-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ endpoint –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∞–≥–µ–Ω—Ç—É     |
| `peft-tools`  | —Å–∫—Ä–∏–ø—Ç—ã –¥–æ–æ–±—É—á–µ–Ω–∏—è LoRA –∏ –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏–∏                   |
| `vs-code-ext` | –∫–ª–∏–µ–Ω—Ç –≤–Ω—É—Ç—Ä–∏ IDE —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–æ–¥–µ–ª–∏                   |

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –∫–∞–∂–¥—ã–π –∏–∑ —ç—Ç–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ `docker-compose`.

---
